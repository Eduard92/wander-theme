function getPrices(e,t){var a=[],i=[],s=[],l=[],n=$WanderLoc,o=$capacidad;mobiscroll.util.http.getJson("/fechas/"+e.getFullYear()+"/"+e.getMonth()+o+n,(function(e){for(var n=0;n<e.length;++n){var o=e[n],d=new Date(o.d);o.price>0?(s.push({start:d,title:"$"+o.price,textColor:"#818C70"}),i.push(d)):a.push(d),l.push(d)}t({labels:s,invalid:a,valid:i,all:l})}),"jsonp")}function getPrices2(e,t){var a=[],i=[],s=[],l=$WanderLoc,n=$capacidad;mobiscroll.util.http.getJson("/fechas2/"+e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()+n+l,(function(e){for(var l=0;l<e.length;++l){var n=e[l],o=new Date(n.d);n.price>0?(s.push({start:o,title:"$"+n.price,textColor:"#818C70"}),i.push(o)):a.push(o)}t({labels:s,invalid:a,valid:i})}),"jsonp")}function extrasInput(e,t,a){var i=$(a).val();$(e).click((function(){$(a).attr("value",++i),$(a).val()>1&&$(t).removeClass("disabled")})),$(t).click((function(){$(a).val()<=1?$(t).addClass("disabled"):$(a).attr("value",--i)}))}function checkForInput(e){const t=$(e);$(e).val().length>0?t.addClass("input-has-value"):t.removeClass("input-has-value")}mobiscroll.setOptions({locale:mobiscroll.localeEs,theme:"auto",themeVariant:"light"}),$((function(){var e=new Date;let t;$("#rangeDate").mobiscroll().datepicker({controls:["calendar"],select:"range",startInput:"#start-input",endInput:"#end-input",display:"inline",dateFormat:"DD/MM/YYYY",calendarType:"month",pages:1,responsive:{medium:{pages:2}},touchUi:!0,min:e,minRange:2,showOuterDays:!1,onInit:function(e,a){var i=$startDate,s=$endDate,l=new Date;a.setVal([i,s],!0),getPrices(l,(function(e){a.setOptions({labels:e.labels,invalid:e.invalid,valid:e.valid}),t=e.all}))},onPageLoading:function(e,a){getPrices(e.firstDay,(function(e){a.setOptions({labels:e.labels,invalid:e.invalid,valid:e.valid}),t=e.all}))},onCellClick:function(e,a){"start"==e.active&&(a.setOptions({invalid:t}),getPrices2(e.date,(function(e){a.setOptions({labels:e.labels,invalid:e.invalid,valid:e.valid})})))}}),$("#limpiar").click((function(e){e.preventDefault();var t=$("#rangeDate").mobiscroll("getInst"),a=new Date;t.setTempVal([a,null]),t.setActiveDate("start"),t.setTempVal([null,null]),getPrices(a,(function(e){t.setOptions({labels:e.labels,invalid:e.invalid,valid:e.valid})}))})),$(".slide-dates").slick({dots:!1,autoplay:!1,infinite:!1,speed:300,slidesToShow:4,slidesToScroll:4,speed:800,arrows:!0,prevArrow:$("#prevSlideDate"),nextArrow:$("#nextSlideDate"),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$('#ctLocTabs a[data-toggle="tab"]').on("shown.bs.tab",(function(){$("[data-slider]").slick("setPosition",0)})),$("#accSelCabinState").on("shown.bs.tab",(function(){$("[data-slider]").slick("setPosition",0)})),$("[data-slide-city-loc]").each((function(e,t){var a=$(this).attr("id"),i=e+1;$("#"+a).slick({dots:!1,autoplay:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,speed:800,arrows:!0,prevArrow:$("#prevSlideCard-"+i),nextArrow:$("#nextSlideCard-"+i),responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),$("#accCity").on("show.bs.collapse shown.bs.collapse hide.bs.collapse hidden.bs.collapse",(function(e){e.stopPropagation(),$("#"+a).slick("refresh")}))})),$("[data-slider]").each((function(e,t){$("#"+t.id).slick({fade:!0,autoplay:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,speed:800,arrows:!0,dots:!1,prevArrow:$("#prevSlideRes-"+t.id),nextArrow:$("#nextSlideRes-"+t.id)})})),$(".accSlideCabinsGroup").each((function(e,t){var a=$(this).attr("id");$("#"+a).on("show.bs.collapse shown.bs.collapse hide.bs.collapse hidden.bs.collapse",(function(e){e.stopPropagation(),$("[data-slider]").slick("setPosition",0)}))})),$("[data-slider-cabins]").each((function(e,t){var a=e+1;$("#cabin-"+a).slick({fade:!0,autoplay:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,speed:800,arrows:!0,dots:!1,prevArrow:$("#prevCabinDate-"+a),nextArrow:$("#nextCabinDate-"+a)})})),$("[data-check-btn]:checked + label").text("Seleccionado"),$("[data-check-btn]").each((function(){var e=$(this).attr("id");$("#"+e).click((function(){$("[data-check-btn] + label").text("Seleccionar"),this.checked&&$(this).next().text("Seleccionado")}))})),$("[data-add-extras]:checked + label").text("Agregado"),$("[data-add-extras]").each((function(){var e=$(this).attr("id");$("#"+e).click((function(){$('[data-add-extras="'+e+'"] + label').text("Agregar"),this.checked&&$('[data-add-extras="'+e+'"] + label').text("Agregado")}))})),$("[data-btn-valid]").click((function(){$("li.btnsNext .nB.show").removeClass("show"),$(this).next().addClass("show")})),"undefined"!=typeof serviciosExtra&&serviciosExtra.forEach((e=>{"actividad"==e.tipo&&(extrasInput("#extras-days-max-"+e.id,"#extras-days-min-"+e.id,"#dias-ds-"+e.id),extrasInput("#extras-cant-max-"+e.id,"#extras-cant-min-"+e.id,"#cantidad-ct-"+e.id))})),"undefined"!=typeof servicios&&servicios.forEach((e=>{"actividad"==e.tipo&&(extrasInput("#extras-days-max-"+e.id,"#extras-days-min-"+e.id,"#dias-ds-"+e.id),extrasInput("#extras-cant-max-"+e.id,"#extras-cant-min-"+e.id,"#cantidad-ct-"+e.id))})),$("#todas").change((function(){let e=$("#formDataRes1");$(this).is(":checked")?(e.addClass("disabledContent"),e.attr("data-reservations",!0)):(e.removeClass("disabledContent"),e.attr("data-reservations",!1))}))}));