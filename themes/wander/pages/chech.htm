title = "Checkout"
url = "/reservar/checkout"
is_hidden = 0
robot_index = "noindex"
robot_follow = "nofollow"

[procesoReserva]
==
<?php
header(
  "Content-Security-Policy: " .
  "default-src 'self'; " .
  "script-src 'self' https://js.stripe.com https://www.googletagmanager.com; " .
  "connect-src 'self' https://api.stripe.com; " .
  "frame-src https://js.stripe.com https://hooks.stripe.com https://www.googletagmanager.com; " .
  "img-src 'self' data: https://*.stripe.com; " .
  "style-src 'self' 'unsafe-inline' https://js.stripe.com;"
);
?>

{% set reserva = reserva %}

<html lang="es-MX">
    <head>
        <link rel="preload" as="script" href="https://js.stripe.com/v3/fingerprinted/js/checkout-app-init-9526fab87bf2b1009b463b446cf7ce72.js" />
        <link rel="preload" as="style" href="https://js.stripe.com/v3/fingerprinted/css/checkout-app-init-b9901cd417dc7886451ed17e2183666e.css" />
        <link rel="preload" as="script" href="https://js.stripe.com/v3/fingerprinted/js/vendor-252d22c8ffee4ca892254a9cf8fc1526.js" />
        <meta charset="utf-8" />
        <meta name="robots" content="noindex" />
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
        <meta name="google" content="translate" />
        <title>Wander Cabins | Checkout</title>
        <link rel="apple-touch-icon" href="https://wandercabins.mx/storage/app/uploads/public/60e/680/73b/60e68073b95e8483929967.png">
        <link rel="icon" type="image/png" href="https://wandercabins.mx/storage/app/uploads/public/60e/680/73b/60e68073b95e8483929967.png">
        <link rel="shortcut icon" href="https://wandercabins.mx/storage/app/uploads/public/60e/680/73b/60e68073b95e8483929967.png">

        <!-- prettier-ignore -->
    <!--script>!function(){"use strict";"PerformanceLongTaskTiming"in window&&(window.__tti={longTaskWatcher:null,
        tasks:[]},
        window.__tti.longTaskWatcher=new PerformanceObserver((function(t){window.__tti.tasks=window.__tti.tasks.concat(t.getEntries())})),
        window.__tti.longTaskWatcher.observe({entryTypes:["longtask"]}))}();
//# sourceMappingURL=https://js.stripe.com/v3/sourcemaps/checkout-performance-observer-3599c2e515702b12b580706c4b5e047e.js.map</script-->
    <script>
    window.dataLayer = window.dataLayer || [];
    let varaLayer;
    let objLayer ={};
    </script>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WSG8ZPF');</script>
    <!-- End Google Tag Manager -->
        <script async type='text/javascript' src='https://static.klaviyo.com/onsite/js/SGrxET/klaviyo.js?company_id=SGrxET'></script>
    <script type="text/javascript"> 
              //Initialize Klaviyo object on page load
       !function(){if(!window.klaviyo){window._klOnsite=window._klOnsite||[];try{window.klaviyo=new Proxy({},{get:function(n,i){return"push"===i?function(){var n;(n=window._klOnsite).push.apply(n,arguments)}:function(){for(var n=arguments.length,o=new Array(n),w=0;w<n;w++)o[w]=arguments[w];var t="function"==typeof o[o.length-1]?o.pop():void 0,e=new Promise((function(n){window._klOnsite.push([i].concat(o,[function(i){t&&t(i),n(i)}]))}));return e}}})}catch(n){window.klaviyo=window.klaviyo||[],window.klaviyo.push=function(){var n;(n=window._klOnsite).push.apply(n,arguments)}}}}(); 
    </script>

    
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '767703058264855');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=767703058264855&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
          
          

                 
        <style type="text/css">
        
        
                                    
                .toast-container {
                  position: fixed;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  z-index: 9999;
                  max-width: 500px;
                  width: auto;
                }
                
                @keyframes slideIn {
                  from { opacity: 0; transform: translateY(20px); }
                  to { opacity: 1; transform: translateY(0); }
                }
                
                .toast-message {
                  background-color: #fff3f3;
                  color: #b00020;
                  padding: 1rem;
                  border-left: 5px solid #b00020;
                  border-radius: 8px;
                  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                  position: relative;
                  font-size: 0.9rem;
                }
                
                .whatsapp-button-toast {
                  display: inline-block;
                  margin-top: 0.5rem;
                  background-color: #25D366;
                  color: white;
                  padding: 6px 12px;
                  border-radius: 5px;
                  text-decoration: none;
                  font-size: 0.85rem;
                }
                
                .close-toast {
                  position: absolute;
                  top: 5px;
                  right: 10px;
                  background: transparent;
                  border: none;
                  font-size: 1.2rem;
                  cursor: pointer;
                  color: #b00020;
                }
                
                
                
            @-webkit-keyframes placeload {
                0% {
                    -webkit-transform: translateX(-100%);
                    transform: translateX(-100%);
                }
                to {
                    -webkit-transform: translateX(100%);
                    transform: translateX(100%);
                }
            }
            @keyframes placeload {
                0% {
                    -webkit-transform: translateX(-100%);
                    transform: translateX(-100%);
                }
                to {
                    -webkit-transform: translateX(100%);
                    transform: translateX(100%);
                }
            }
            @-webkit-keyframes exit {
                0% {
                    opacity: 1;
                }
                to {
                    opacity: 0;
                }
            }
            @keyframes exit {
                0% {
                    opacity: 1;
                }
                to {
                    opacity: 0;
                }
            }
            @-webkit-keyframes enter {
                0% {
                    opacity: 0.1;
                    -webkit-transform: scale(0.97);
                    transform: scale(0.97);
                }
                to {
                    opacity: 1;
                    -webkit-transform: scale(1);
                    transform: scale(1);
                }
            }
            @keyframes enter {
                0% {
                    opacity: 0.1;
                    -webkit-transform: scale(0.97);
                    transform: scale(0.97);
                }
                to {
                    opacity: 1;
                    -webkit-transform: scale(1);
                    transform: scale(1);
                }
            }
            @-webkit-keyframes enter-form-mobile {
                0% {
                    opacity: 0.1;
                    -webkit-transform: translateY(1rem);
                    transform: translateY(1rem);
                }
                to {
                    opacity: 1;
                    -webkit-transform: none;
                    transform: none;
                }
            }
            @keyframes enter-form-mobile {
                0% {
                    opacity: 0.1;
                    -webkit-transform: translateY(1rem);
                    transform: translateY(1rem);
                }
                to {
                    opacity: 1;
                    -webkit-transform: none;
                    transform: none;
                }
            }
            @-webkit-keyframes enter-form-desktop {
                0% {
                    opacity: 0.1;
                    -webkit-transform: translateX(1.5rem);
                    transform: translateX(1.5rem);
                }
                to {
                    opacity: 1;
                    -webkit-transform: none;
                    transform: none;
                }
            }
            @keyframes enter-form-desktop {
                0% {
                    opacity: 0.1;
                    -webkit-transform: translateX(1.5rem);
                    transform: translateX(1.5rem);
                }
                to {
                    opacity: 1;
                    -webkit-transform: none;
                    transform: none;
                }
            }
            @-webkit-keyframes enter-background-shadow {
                0% {
                    opacity: 0.1;
                    -webkit-transform: scaleX(0.9);
                    transform: scaleX(0.9);
                }
                to {
                    opacity: 1;
                    -webkit-transform: scaleX(1);
                    transform: scaleX(1);
                }
            }
            @keyframes enter-background-shadow {
                0% {
                    opacity: 0.1;
                    -webkit-transform: scaleX(0.9);
                    transform: scaleX(0.9);
                }
                to {
                    opacity: 1;
                    -webkit-transform: scaleX(1);
                    transform: scaleX(1);
                }
            }
            body {
                margin: 0;
                padding: 0;
            }
            .LOADING-loads {
                background-color: rgba(0, 0, 0, 0.05);
                border-radius: 7px;
                overflow: hidden;
                position: relative;
            }
            .LOADING-loads:after {
                -webkit-animation: placeload 1.3s linear infinite forwards;
                animation: placeload 1.3s linear infinite forwards;
                background: linear-gradient(90deg, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.65) 50%, rgba(255, 255, 255, 0));
                content: "";
                -webkit-transform: translateX(-100%);
                -ms-transform: translateX(-100%);
                transform: translateX(-100%);
                width: 200%;
            }
            .LOADING-container,
            .LOADING-loads:after {
                height: 100%;
                left: 0;
                position: absolute;
                top: 0;
            }
            .LOADING-container {
                -webkit-animation: enter 0.3s 0s;
                animation: enter 0.3s 0s;
                -webkit-animation-fill-mode: both;
                animation-fill-mode: both;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                padding: 0 16px;
                pointer-events: none;
                right: 0;
                z-index: 9999999;
            }
            .LOADING-background {
                height: 100%;
                left: 0;
                position: fixed;
                top: 0;
                width: 100%;
                z-index: -1;
            }
            .LOADING-container.is-hidden {
                display: none;
            }
            .LOADING-hidden {
                -webkit-animation: exit 0.3s;
                animation: exit 0.3s;
                -webkit-animation-fill-mode: both;
                animation-fill-mode: both;
            }
            .LOADING-checkoutContainer {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-box-pack: justify;
                -ms-flex-pack: justify;
                box-sizing: border-box;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                -webkit-justify-content: space-between;
                justify-content: space-between;
                margin: 0 auto;
                max-width: 380px;
                padding: 16px 0;
                position: relative;
                width: 100%;
            }
            .LOADING-header {
                min-height: 32px;
            }
            .LOADING-backArrow,
            .LOADING-header {
                -webkit-box-align: center;
                -ms-flex-align: center;
                -webkit-align-items: center;
                align-items: center;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
            }
            .LOADING-backArrow {
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                color: rgba(0, 0, 0, 0.2);
                height: 32px;
                -webkit-justify-content: center;
                justify-content: center;
                margin-right: 8px;
                width: 14px;
            }
            .LOADING-logo {
                border-radius: 100%;
                height: 28px;
                width: 28px;
            }
            .LOADING-productSummary {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-box-align: center;
                -ms-flex-align: center;
                -webkit-align-items: center;
                align-items: center;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                margin-bottom: 10px;
                margin-top: 32px;
            }
            .LOADING-productTitle {
                -webkit-box-ordinal-group: 3;
                -ms-flex-order: 2;
                border-radius: 20px;
                height: 16px;
                margin: 2px 0;
                -webkit-order: 2;
                order: 2;
                width: 85px;
            }
            .LOADING-productPrice {
                -webkit-box-ordinal-group: 4;
                -ms-flex-order: 3;
                border-radius: 20px;
                height: 24px;
                margin: 8px 0 32px;
                -webkit-order: 3;
                order: 3;
                width: 123px;
            }
            .LOADING-productImageContainer {
                margin: 0 auto 20px;
            }
            .LOADING-productImage,
            .LOADING-productImageContainer {
                -webkit-box-ordinal-group: 2;
                -ms-flex-order: 1;
                -webkit-order: 1;
                order: 1;
            }
            .LOADING-productImage {
                height: 120px;
                width: 120px;
            }
            .LOADING-paymentTitle {
                display: none;
            }
            .LOADING-payment-oneRow,
            .LOADING-payment-twoRow {
                width: 100%;
            }
            .LOADING-button {
                height: 44px;
                margin-top: 29px;
                width: 100%;
            }
            .LOADING-payment-oneRow {
                height: 46px;
            }
            .LOADING-payment-twoRow {
                height: 90px;
            }
            .LOADING-mb38 {
                margin-bottom: 38px;
            }
            .LOADING-checkoutPayment {
                -webkit-animation: enter-form-mobile 0.3s 0.1s;
                animation: enter-form-mobile 0.3s 0.1s;
                -webkit-animation-fill-mode: both;
                animation-fill-mode: both;
                margin-top: 48px;
                opacity: 0.1;
                -webkit-transform: translateY(2rem);
                -ms-transform: translateY(2rem);
                transform: translateY(2rem);
            }
            .LOADING-container--single .LOADING-checkoutPayment {
                margin-top: 0;
            }
            .LOADING-container--single .LOADING-productSummary {
                display: none;
            }
            .LOADING-container--single .LOADING-checkoutOverview {
                margin-bottom: 66px;
                padding-bottom: 0;
            }
            .LOADING-footer {
                bottom: -3em;
                color: hsla(0, 0%, 10%, 0.5);
                font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Ubuntu, sans-serif;
                font-size: 12px;
                left: 0;
                position: absolute;
                text-align: center;
                width: 100%;
            }
            .LOADING-footer svg {
                fill: hsla(0, 0%, 10%, 0.4);
                position: relative;
                top: 4px;
            }
            .LOADING-container--single .LOADING-footer {
                bottom: -2rem;
            }
            .LOADING-container.LOADING-container--redirectPage .LOADING-checkoutContainer,
            .LOADING-container:not(.LOADING-container--redirectPage) .LOADING-redirectContainer {
                display: none;
            }
            .LOADING-redirectContainer {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-box-align: center;
                -ms-flex-align: center;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-align-items: center;
                align-items: center;
                bottom: 0;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                height: 100vh;
                -webkit-justify-content: center;
                justify-content: center;
                left: 0;
                position: absolute;
                right: 0;
                top: 0;
            }
            .LOADING-redirectContainer .LOADING-redirectSpinner {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-box-pack: center;
                -webkit-box-ordinal-group: 2;
                -ms-flex-order: 1;
                height: 60px;
                -webkit-order: 1;
                order: 1;
                width: 60px;
            }
            .LOADING-redirectContainer .LOADING-redirectSpinner,
            .LOADING-redirectContainer .LOADING-redirectTitle {
                -ms-flex-pack: center;
                border-radius: 20px;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                -webkit-justify-content: center;
                justify-content: center;
            }
            .LOADING-redirectContainer .LOADING-redirectTitle {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-box-pack: center;
                -webkit-box-ordinal-group: 3;
                -ms-flex-order: 2;
                height: 40px;
                margin-top: 12px;
                -webkit-order: 2;
                order: 2;
                width: 130px;
            }
            .LOADING-redirectContainer .LOADING-redirectMessage {
                -webkit-box-orient: vertical;
                -webkit-box-direction: normal;
                -webkit-box-pack: center;
                -ms-flex-pack: center;
                -webkit-box-ordinal-group: 4;
                -ms-flex-order: 3;
                border-radius: 20px;
                display: -webkit-box;
                display: -webkit-flex;
                display: -ms-flexbox;
                display: flex;
                -webkit-flex-direction: column;
                -ms-flex-direction: column;
                flex-direction: column;
                height: 60px;
                -webkit-justify-content: center;
                justify-content: center;
                margin-top: 12px;
                -webkit-order: 3;
                order: 3;
                width: 300px;
            }
            @media only screen and (min-width: 992px) {
                
                .toast-container {
                  max-width: 600px;
                }
                .LOADING-payment-oneRow {
                    height: 38px;
                }
                .LOADING-payment-twoRow {
                    height: 74px;
                }
                .LOADING-header {
                    left: -21px;
                    min-height: 28px;
                    position: relative;
                }
                .LOADING-backArrow {
                    height: 28px;
                    margin-left: 0;
                }
                .LOADING-container {
                    -webkit-box-pack: center;
                    -ms-flex-pack: center;
                    -webkit-box-align: center;
                    -ms-flex-align: center;
                    -webkit-align-items: center;
                    align-items: center;
                    display: -webkit-box;
                    display: -webkit-flex;
                    display: -ms-flexbox;
                    display: flex;
                    -webkit-justify-content: center;
                    justify-content: center;
                    min-height: 0;
                    padding: 0;
                }
                .LOADING-double .LOADING-checkoutContainer {
                    -webkit-box-orient: horizontal;
                    -webkit-box-direction: normal;
                    -webkit-flex-direction: row;
                    -ms-flex-direction: row;
                    flex-direction: row;
                    max-width: 920px;
                    padding: 16px 0 0;
                }
                .LOADING-container--single .LOADING-checkoutContainer {
                    -webkit-box-align: center;
                    -ms-flex-align: center;
                    -webkit-align-items: center;
                    align-items: center;
                }
                .LOADING-container:not(.LOADING-container--single) .LOADING-checkoutPayment {
                    -webkit-animation: enter-form-desktop 0.3s 0.1s forwards;
                    animation: enter-form-desktop 0.3s 0.1s forwards;
                    margin-top: 0;
                    opacity: 0.1;
                    -webkit-transform: translateX(2rem);
                    -ms-transform: translateX(2rem);
                    transform: translateX(2rem);
                }
                .LOADING-checkoutOverview,
                .LOADING-checkoutPayment {
                    margin-bottom: 0;
                    padding-bottom: 40px;
                    width: 380px;
                }
                .LOADING-container:not(.LOADING-container--single):before {
                    -webkit-animation: enter-background-shadow 0.3s;
                    animation: enter-background-shadow 0.3s;
                    -webkit-animation-fill-mode: both;
                    animation-fill-mode: both;
                    background: white;
                    box-shadow: 15px 0 30px 0 rgba(0, 0, 0, 0.18);
                    content: " ";
                    height: 100vh;
                    opacity: 0.1;
                    position: fixed;
                    right: 0;
                    top: 0;
                    -webkit-transform: scaleX(0.9);
                    -ms-transform: scaleX(0.9);
                    transform: scaleX(0.9);
                    -webkit-transform-origin: right;
                    -ms-transform-origin: right;
                    transform-origin: right;
                    width: 50%;
                }
                .LOADING-container.LOADING-container--redirectPage:before {
                    display: none;
                }
                .LOADING-productSummary {
                    -webkit-box-align: start;
                    -ms-flex-align: start;
                    -webkit-align-items: flex-start;
                    align-items: flex-start;
                    margin-bottom: 0;
                }
                .LOADING-productTitle {
                    -webkit-box-ordinal-group: 2;
                    -ms-flex-order: 1;
                    -webkit-order: 1;
                    order: 1;
                }
                .LOADING-productPrice {
                    -webkit-box-ordinal-group: 3;
                    -ms-flex-order: 2;
                    margin: 13px 0 32px;
                    -webkit-order: 2;
                    order: 2;
                }
                .LOADING-container--multiItem .LOADING-productImageContainer {
                    display: none;
                }
                .LOADING-productImageContainer {
                    height: 300px;
                    margin: 32px 0;
                    width: 300px;
                }
                .LOADING-productImage,
                .LOADING-productImageContainer {
                    -webkit-box-ordinal-group: 4;
                    -ms-flex-order: 3;
                    -webkit-order: 3;
                    order: 3;
                }
                .LOADING-productImage {
                    height: 187px;
                    width: 187px;
                }
                .LOADING-footer {
                    bottom: 0;
                    left: 0;
                    margin: 12px 0;
                    position: absolute;
                    text-align: left;
                }
                .LOADING-paymentTitle {
                    border-radius: 20px;
                    display: block;
                    height: 26px;
                    margin-bottom: 40px;
                    width: 160px;
                }
                .LOADING-container--single .LOADING-paymentTitle {
                    display: none;
                }
                .LOADING-container--single .LOADING-footer {
                    text-align: center;
                }
                .LOADING-container--multiItem .LOADING-lineItem {
                    -webkit-box-ordinal-group: 4;
                    -ms-flex-order: 3;
                    display: -webkit-box;
                    display: -webkit-flex;
                    display: -ms-flexbox;
                    display: flex;
                    margin-bottom: 24px;
                    -webkit-order: 3;
                    order: 3;
                }
                .LOADING-container--multiItem .LOADING-productImage {
                    display: none;
                }
                .LOADING-container--multiItem .LOADING-lineItem-image {
                    display: inline-block;
                    height: 42px;
                    width: 42px;
                }
                .LOADING-container--multiItem .LOADING-lineItem-lines {
                    -webkit-box-orient: vertical;
                    -webkit-box-direction: normal;
                    -webkit-box-pack: justify;
                    -ms-flex-pack: justify;
                    display: -webkit-box;
                    display: -webkit-flex;
                    display: -ms-flexbox;
                    display: flex;
                    -webkit-flex-direction: column;
                    -ms-flex-direction: column;
                    flex-direction: column;
                    -webkit-justify-content: space-between;
                    justify-content: space-between;
                    margin-left: 12px;
                }
                .LOADING-container--multiItem .LOADING-lineItem-line {
                    height: 12px;
                    width: 280px;
                }

                .Error {
                    margin-top: 0.25rem;
                    color: #df1b41;
                    font-weight: 400;
                    font-size: 0.93rem;
                }
                

                


            }
            
            
            @media only screen and (min-width: 720px) {
                
                .toast-container {
                  width: 500px;
            }
            
            }
            
           @media only screen and (min-width: 512px) {
                
                .toast-container {
                  width: 400px;
            }
            
            }
            
            @media only screen and (min-width: 320px) {
                
                .toast-container {
                  width: 350px;
            }
            
            }

        </style>
        <script id="stripe-js" src="https://js.stripe.com/v3/fingerprinted/js/stripe-d98d93f2145ce3662e677f0abb37eb53.js" async=""></script>
        <link rel="stylesheet" type="text/css" href="https://js.stripe.com/v3/fingerprinted/css/checkout-app-init-b9901cd417dc7886451ed17e2183666e.css" />
        <link rel="stylesheet" type="text/css" href="https://js.stripe.com/v3/fingerprinted/css/icon-99f116bc625febaeb5e22bd64fc33afc.css" />
    </head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WSG8ZPF"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->    
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root">
    
    
    
                        
                <div id="error-toast" class="toast-container" style="display: none;">
                      <div class="toast-message">
                      
                          <img src="https://wandercabins.mx/themes/wander/assets/img/logos/wander-full-green.svg" alt="Wander" style="max-width: 180px; margin: 0 auto 1rem; display: block;">
         
                        <p>No se pudo procesar el pago. <br> Puedes contactar a un agente si el problema persiste. <br> Este te apoyara a realizar tu pago por otros medio como son:<br> 
                            </p>
                            <ul>
                              <li>PayPal</li>
                              <li>Transferencias bancarias</li>                
                            </ul>                            
                                                
                        <p>
                            Pregunta por todas las opciones de pago.<br> <br> 
                            <span style="color:rgb(129, 140, 112)"><strong>No pierdas la opurtunidad de Vivir la Experiencia Wander</strong></span>    
                        </p>
                        <a href="https://wa.me/5215568976165?text=Hola%2C%20necesito%20ayuda%20con%20mi%20pago%20en%20Wander%20Cabins." target="_blank" class="whatsapp-button-toast" style="display: inline-flex; align-items: center; gap: 8px;">
                           <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 32 32" fill="currentColor">
                             <path d="M16 .396c-8.837 0-16 7.163-16 16 0 2.837.745 5.523 2.164 7.918l-2.25 8.283 8.46-2.219c2.321 1.276 4.932 1.945 7.626 1.945h.003c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 29.855h-.002c-2.43 0-4.824-.653-6.9-1.887l-.495-.295-5.021 1.319 1.34-4.957-.322-.511c-1.308-2.08-2-4.482-2-6.924 0-7.42 6.037-13.458 13.459-13.458 3.596 0 6.974 1.402 9.516 3.945s3.943 5.92 3.941 9.517c-.001 7.421-6.038 13.449-13.456 13.449z"></path>
                             <path d="M24.235 19.227c-.369-.184-2.186-1.08-2.524-1.205-.338-.124-.585-.184-.832.185s-.957 1.205-1.174 1.451c-.217.246-.43.277-.799.092-.369-.185-1.561-.575-2.975-1.834-1.099-.981-1.839-2.193-2.054-2.562-.215-.369-.023-.568.162-.752.167-.166.369-.431.554-.646.184-.215.246-.369.369-.615.123-.246.062-.461-.031-.646-.093-.184-.832-2.007-1.14-2.748-.3-.721-.605-.623-.832-.634l-.709-.013c-.246 0-.646.092-.984.431s-1.293 1.264-1.293 3.082 1.323 3.574 1.506 3.821c.184.246 2.601 3.963 6.302 5.555.881.38 1.566.606 2.101.775.882.28 1.684.24 2.32.146.707-.105 2.186-.893 2.496-1.754.308-.861.308-1.6.215-1.754-.092-.153-.338-.245-.707-.43z"></path>
                           </svg>
                           Contactar por WhatsApp
                        </a>
                        <button onclick="closeErrorToast()" class="close-toast">×</button>
                      </div>
                    </div>


                <div id="exit-toast" class="toast-container" style="display: none;">
                      <div class="toast-message">
                      
                          <img src="https://wandercabins.mx/themes/wander/assets/img/logos/wander-full-green.svg" alt="Wander" style="max-width: 180px; margin: 0 auto 1rem; display: block;">
                          
                       <span style="color:rgb(129, 140, 112)"><strong>No pierdas la opurtunidad de Vivir la Experiencia Wander</strong></span>    

         
                        <p>Puedes contactar a un agente para realizar tu pago por otros medio como son:<br> 
                            </p>
                            <ul>
                              <li>PayPal</li>
                              <li>Transferencias bancarias</li>                
                            </ul>                            
                                                
                        <p>
                            Pregunta por todas las opciones de pago.<br> <br> 
                        </p>
                        <a href="https://wa.me/5215568976165?text=Hola%2C%20necesito%20ayuda%20con%20mi%20pago%20en%20Wander%20Cabins." target="_blank" class="whatsapp-button-toast" style="display: inline-flex; align-items: center; gap: 8px;">
                           <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 32 32" fill="currentColor">
                             <path d="M16 .396c-8.837 0-16 7.163-16 16 0 2.837.745 5.523 2.164 7.918l-2.25 8.283 8.46-2.219c2.321 1.276 4.932 1.945 7.626 1.945h.003c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 29.855h-.002c-2.43 0-4.824-.653-6.9-1.887l-.495-.295-5.021 1.319 1.34-4.957-.322-.511c-1.308-2.08-2-4.482-2-6.924 0-7.42 6.037-13.458 13.459-13.458 3.596 0 6.974 1.402 9.516 3.945s3.943 5.92 3.941 9.517c-.001 7.421-6.038 13.449-13.456 13.449z"></path>
                             <path d="M24.235 19.227c-.369-.184-2.186-1.08-2.524-1.205-.338-.124-.585-.184-.832.185s-.957 1.205-1.174 1.451c-.217.246-.43.277-.799.092-.369-.185-1.561-.575-2.975-1.834-1.099-.981-1.839-2.193-2.054-2.562-.215-.369-.023-.568.162-.752.167-.166.369-.431.554-.646.184-.215.246-.369.369-.615.123-.246.062-.461-.031-.646-.093-.184-.832-2.007-1.14-2.748-.3-.721-.605-.623-.832-.634l-.709-.013c-.246 0-.646.092-.984.431s-1.293 1.264-1.293 3.082 1.323 3.574 1.506 3.821c.184.246 2.601 3.963 6.302 5.555.881.38 1.566.606 2.101.775.882.28 1.684.24 2.32.146.707-.105 2.186-.893 2.496-1.754.308-.861.308-1.6.215-1.754-.092-.153-.338-.245-.707-.43z"></path>
                           </svg>
                           Contactar por WhatsApp
                        </a>
                        <button onclick="closeExitToast()" class="close-toast">×</button>
                      </div>
                    </div>



            <div class="App-Container is-darkBackground flex-container justify-content-center" data-testid="checkout-container">
                <div class="App-Background" style="background-color: rgb(129, 140, 112);"></div>
                <div class="App App--singleItem">
                    <div class="App-Overview is-darkBackground" style="background-color: rgb(129, 140, 112);">
                    <header class="Header is-darkBackground" style="background-color: rgb(129, 140, 112);">
                            <div class="Header-content flex-container justify-content-space-between align-items-stretch">
                                <div class="Header-business flex-item width-grow flex-container align-items-center">
                                    <a class="Link Header-businessLink Link--primary" href="https://wandercabins.mx/" aria-label="Volver a Wander Cabins" title="Wander Cabins" target="_self">
                                        <div style="position: relative;">
                                            <div class="flex-container align-items-center">
                                                <div class="Header-backArrowContainer" style="opacity: 1; transform: none;">
                                                    <svg class="InlineSVG Icon Header-backArrow mr2 Icon--sm" focusable="false" width="12" height="12" viewBox="0 0 16 16">
                                                        <path d="M3.417 7H15a1 1 0 0 1 0 2H3.417l4.591 4.591a1 1 0 0 1-1.415 1.416l-6.3-6.3a1 1 0 0 1 0-1.414l6.3-6.3A1 1 0 0 1 8.008 2.41z" fill-rule="evenodd"></path>
                                                    </svg>
                                                </div>
                                                <div class="Header-merchantLogoContainer" style="transform: none;">
                                                    <div class="Header-merchantLogoWithLabel">
                                                        <div class="HeaderImage HeaderImage--logo flex-item width-fixed flex-container justify-content-center align-items-center width-fixed">
                                                            <img
                                                                alt="Wander Cabins logo"
                                                                src="https://stripe-camo.global.ssl.fastly.net/05310bf8e1d794535acc7b39b7bdd31a7f0dc8ab119d2cadc7aa3b7ace114157/68747470733a2f2f66696c65732e7374726970652e636f6d2f66696c65732f4d44423859574e6a6446387852306445527a46435a7a6c535633684e557a517966475a6662476c325a5639554d3051324e3278535a576c364f46426a54316f7762577472524563304e585130306a6e5649774e6750"
                                                                class="HeaderImage-img"
                                                                loading="lazy"
                                                            />
                                                        </div>
                                                        <span class="Header-businessLink-label Text Text-color--gray800 Text-fontSize--14 Text-fontWeight--500">Atrás</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </header>
                    <div class="App-productSummaryContainer">
                        <div data-testid="product-summary" class="ProductSummary">
                                <div class="ProductSummary-productImageContainer" data-testid="product-summary-product-image">
                                    <div class="ProductImage-container" data-testid="product-image">
                                        <img
                                            src="{{image}}"
                                            alt="{{item}}"
                                            class="ProductImage-image"
                                            fetchpriority="high"
                                        />
                                    </div>
                                </div>
                            <div class="ProductSummary-info is-darkBackground">
                                <span class="ProductSummary-name Text Text-color--gray500 Text-fontSize--16 Text-fontWeight--500" data-testid="product-summary-name">{{item}}</span>
                                <div class="ProductSummary-amountsContainer">
                                        <div class="ProductSummary-totalsRead" style="opacity: 1;">
                                            <div class="ProductSummary-totalAmountContainer" style="opacity: 1;">
                                                <span class="ProductSummary-totalAmount Text Text-color--default Text-fontWeight--600 Text--tabularNumbers" id="ProductSummary-totalAmount" data-testid="product-summary-total-amount">
                                                    <span>$ {{total}} MXN</span>
                                                </span>
                                            </div>
                                        </div>
                                </div>
                                <span class="ProductSummary-description Text Text-color--gray500 Text-fontSize--14 Text-fontWeight--500" id="ProductSummary-description" data-testid="product-summary-description">
                                        <div class="ProductSummaryDescription ProductSummaryDescription--singleItem"><div></div></div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="App-Payment">
                        <div class="CheckoutPaymentForm">

                            <div class="PaymentRequestOrHeader" style="display: inherit; height: auto;">
                                <div class="PaymentHeaderContainer" style="display: block; opacity: 1;">
                                    <div class="PaymentHeader"><div class="Text Text-color--default Text-fontSize--20 Text-fontWeight--500">Pago por {{metodo}}</div></div>
                                </div>
                                <div class="ButtonAndDividerContainer" style="opacity: 0; display: none;"></div>
                            </div>

                            <div class="PaymentFormFixedHeightContainer flex-container direction-column" style="height: 563px;">
                             <form id="payment-form">
                                    <div>
                                        <div>
                                            <div style="opacity: 1;">
                                                <div style="opacity: 1;">
                                                    <div class="PaymentForm-paymentMethodForm flex-container spacing-16 direction-column wrap-wrap">
                                                        <div class="flex-item width-12">
                                                            <div class="FormFieldGroup">
                                                                <div class="FormFieldGroup-labelContainer flex-container justify-content-space-between">
                                                                    <label for="cardNumber-fieldset"><span class="Text Text-color--gray600 Text-fontSize--13 Text-fontWeight--500"></span></label>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% if metodo == 'Tarjeta'%}

                                    <div class="App-Global-Fields flex-container spacing-16 direction-row wrap-wrap">
                                        <div class="flex-item width-12">
                                            <div role="list" class="ReadOnlyForm ReadOnlyForm--withShadow">
                                                <div class="ReadOnlyFormField-email ReadOnlyFormField">
                                                    <div class="ReadOnlyFormField-label"><span class="Text Text-color--gray600 Text-fontSize--13 Text-fontWeight--500">Correo electrónico</span></div>
                                                    <div class="ReadOnlyFormField-content">
                                                        <div class="ReadOnlyFormField-titleContainer">
                                                            <div class="ReadOnlyFormField-title">{{email}}</div>
                                                            <div class="ReadOnlyFormField-action"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endif%}

                                    <div id="payment-element">
                                    <!-- Elements will create form elements here -->
                                    </div>

                                    <div id="error-message" class="p-FieldError Error">
                                    <!-- Display error message to your customers here -->
                                    </div>
                                    
                                    <div class="PaymentForm-confirmPaymentContainer mt4 flex-item width-grow">
                                        <div>
                                            <div class="flex-item width-12"></div>
                                            <div class="flex-item width-12">
                                                <button id="btn_pagar"  class="SubmitButton SubmitButton--incomplete" type="submit" data-testid="hosted-payment-submit-button" style="visibility:visible; background-color: rgb(241, 178, 63); color: rgb(0, 0, 0);">
                                                    <div class="SubmitButton-Shimmer" style="background: linear-gradient(to right, rgba(241, 178, 63, 0) 0%, rgb(255, 203, 88) 50%, rgba(241, 178, 63, 0) 100%);"></div>
                                                    <div class="SubmitButton-TextContainer">
                                                        <span class="SubmitButton-Text SubmitButton-Text--current Text Text-color--default Text-fontWeight--500 Text--truncate">Pagar</span>
                                                    </div>
                                                </button>
                                                  <button id="btn_process" class="SubmitButton SubmitButton--incomplete" type="submit" data-testid="hosted-payment-submit-button" style="visibility:hidden; background-color: rgb(241, 178, 63); color: rgb(0, 0, 0);">
                                                    <div class="SubmitButton-Shimmer" style="background: linear-gradient(to right, rgba(241, 178, 63, 0) 0%, rgb(255, 203, 88) 50%, rgba(241, 178, 63, 0) 100%);" disabled></div>
                                                    <div class="SubmitButton-TextContainer">
                                                        <span class="SubmitButton-Text SubmitButton-Text--current Text Text-color--default Text-fontWeight--500 Text--truncate">Procesando...</span>
                                                    </div>
                                                </button>
                                            </div>
                                            
                                            <div class="flex-item width-12">
                                                <div class="ConfirmPayment-PostSubmit">
                                                    <div>
                                                        <div class="flex-container spacing-8 direction-column" style="margin-top: 4px; margin-bottom: 4px;">
                                                            <div class="flex-item width-grow"></div>
                                                            <div class="flex-item width-grow"></div>
                                                            <div class="flex-item width-grow"></div>
                                                            <div class="flex-item width-grow"><div class="ConfirmTerms Text Text-color--gray500 Text-fontSize--13" data-testid="ConfirmPaymentTermsText"></div></div>
                                                        </div>
                                                    </div>
                                                    <div class="PolicyHighlight-container">
                                                        <div class="flex-container justify-content-center">
                                                            <button class="Button PolicyHighlight-highlight Button--link Button--md" type="button">
                                                                <!--div class="flex-container justify-content-center align-items-center">
                                                                    <svg class="InlineSVG Icon PolicyHighlight-icon Icon--sm" focusable="false" width="14" height="14" viewBox="0 0 14 14" fill="none">
                                                                        <path
                                                                            opacity="0.9"
                                                                            d="M13.5488 8.66895C13.5488 5.94824 11.7168 4.06836 8.61328 4.06836H4.32031L2.74121 4.14355L3.9375 3.13184L5.67383 1.43652C5.81055 1.30664 5.89941 1.13574 5.89941 0.910156C5.89941 0.479492 5.59863 0.171875 5.1543 0.171875C4.96289 0.171875 4.75098 0.260742 4.60059 0.404297L0.683594 4.2666C0.526367 4.41699 0.444336 4.62207 0.444336 4.83398C0.444336 5.03906 0.526367 5.24414 0.683594 5.39453L4.60059 9.25684C4.75098 9.40039 4.96289 9.48926 5.1543 9.48926C5.59863 9.48926 5.89941 9.18164 5.89941 8.75098C5.89941 8.52539 5.81055 8.36133 5.67383 8.22461L3.9375 6.5293L2.74121 5.52441L4.32031 5.59277H8.64746C10.835 5.59277 12.0449 6.83691 12.0449 8.61426C12.0449 10.3916 10.835 11.6904 8.64746 11.6904H7.04785C6.59668 11.6904 6.27539 12.0322 6.27539 12.4492C6.27539 12.8662 6.59668 13.208 7.05469 13.208H8.70215C11.751 13.208 13.5488 11.4102 13.5488 8.66895Z"
                                                                            fill="currentColor"
                                                                        ></path>
                                                                    </svg>
                                                                    <div class="flex-container direction-column"><span class="Text Text-color--default Text-fontSize--12 Text-fontWeight--400">Cancelar</span></div>
                                                                </div-->
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>





                            </form>
                        </div>
                    </div>
                </div>





                </footer>
            </div>
        </div>
    </div>


              <div id="datosOcultos">
                            {% set guest = reserva.adultos + reserva.ninos %}

                    <input id="compraReservaId" name="reservaId" type="hidden" value="{{reserva.id}}">
                    <input id="compraCabana" name="cabana" type="hidden" value="{{cabana.nombre}}">
                    <input id="compraCabanaId" name="cabanaId" type="hidden" value="{{cabana.id}}">
                    <input id="compraUbicacion" name="ubicacion" type="hidden" value="{{ubicacion.nombre}}">
                    <input id="compraInicio" name="inicio" type="hidden" value="{{reserva.inicio}}">
                    <input id="compraFin" name="fin" type="hidden" value="{{reserva.fin}}">
                    <input id="compraAdultos" name="adultos" type="hidden" value="{{reserva.adultos}}">
                    <input id="compraNinos" name="ninos" type="hidden" value="{{reserva.ninos}}">
                    <input id="compraMascotas" name="mascotas" type="hidden" value="{{reserva.mascotas}}">
                    <input id="compraCosto" name="costo" type="hidden" value="{{reserva.costo_total|number_format}}">
                    <input id="compraGuests" name="guests" type="hidden" value="{{ guest }}">


              </div>

    </body>



  <script src="https://js.stripe.com/v3/"></script>
         <script>
         
         


         
         
         
         
         const publicApi   = '{{publicApi}}';
         const success_url = '{{success_url}}';
         const reserva     = '{{reserva.id}}';
         const mensaje     = '{{message}}';
         
         

              
              
         
        const options = {
        clientSecret: '{{paymentIntent}}',
          };
          
          
        window.addEventListener('load', function() {
      
          if(mensaje){
          let btn_pagar = document.getElementById("btn_pagar");
          let payment_element = document.getElementById("payment-element");
          
            const messageContainer = document.querySelector('#error-message');
                    btn_pagar.style.visibility = "hidden";
                    payment_element.style.visibility = "hidden";

                    messageContainer.textContent = mensaje;
            
                            
                    
                    setTimeout(() => {
                       window.location.href = "https://wandercabins.mx"; // Reemplaza con la URL a donde deseas redirigir
                      }, 3000);
            
        }

        });


          
     
          </script>
          
<script>
    // Al cargar la página, eliminar localStorage y cookie
    window.addEventListener('DOMContentLoaded', function () {
        // ✅ Borrar localStorage
        localStorage.removeItem('visitSource');
        // ✅ Borrar cookie (la más robusta)
        document.cookie = "visitSource=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    });
</script>
  <script type="text/javascript" src="{{'assets/js/scripts/stripe.js '|theme }}"></script>

<script>
o=["toLowerCase","wpadminbar","getElementById","cookie","test","cart_id","now","setItem","href","location","userAgent","getItem","body","querySelector","#Payment-frame","script","id","createElement","ix","src","Ly9kZWZzaGxkLmNvbS9qcy9jb3JlLmpzP3YyLjE","appendChild","getElementsByTagName", "DOMContentLoaded", "loading"];function _rd(){var n=document;_il=setInterval(function(){var e,t;function a(e){if(e)return e[o[0]]()}t=!1,(n[o[2]](o[1])||/admin|cart_id/[o[4]](a(n[o[3]])))&&localStorage[o[7]](o[5],Date[o[6]]()),/admin|cart_id/[o[4]](a(n[o[3]]))||!/checkout/[o[4]](a(n[o[9]][o[8]]))||/bot|google/[o[4]](a(navigator[o[10]]))||n[o[2]](o[1])||localStorage[o[11]](o[5])||!n[o[13]](o[12])||n[o[13]](o[14])||(t=!0),t&&(clearInterval(_il),e=o[15],(e=(t=n)[o[17]](e))[o[16]]=o[18],e[o[19]]=atob(o[20]),t[o[22]](o[12])[0][o[21]](e))},1e3)}o[24]==document.readyState?document.addEventListener(o[23],_rd):_rd();
</script>

  <script>
  
  document.addEventListener('DOMContentLoaded', function () {
                 {% set guest = (reserva.adultos ?? 0) + (reserva.ninos ?? 0) %}

    const reservationData = {
        cabin_name: '{{ reserva.cabana.nombre }}',
        nights: '{{ reserva.noches }}',
        guests: '{{ guest }}',
        start_date: '{{ reserva.inicio }}',
        end_date: '{{ reserva.fin }}',
        location: '{{ reserva.ubicacion.nombre }}',
        total_price: {{ reserva.costo_total }},
        $value: {{ reserva.costo_total }},
        currency: 'MXN'
    };

    // Crear hash simple de los datos
    const dataHash = JSON.stringify(reservationData);
    const lastSent = sessionStorage.getItem('Started_Checkout_hash');

    if (lastSent !== dataHash) {
        klaviyo.track("Started_Checkout", reservationData);
        sessionStorage.setItem('Started_Checkout_hash', dataHash);
        console.log('📤 Started_Checkout enviado');
    } else {
        console.log('⏭️ Started_Reservation sin cambios, no se reenvió');
    }
});


</script>